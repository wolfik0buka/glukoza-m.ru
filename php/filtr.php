<?phpnamespace App;class filtr{    var $pId, $massCat;    function filtr($parentId)    {        $this->pId = $parentId;    }    function showTree($ParentID, $lvl)    {        global $lvl, $htmlTree, $mysqli, $cat;        $this->massCat[] = $ParentID;        $lvl++;        $query = 'select category.id,                         category.name,                         category.parent                  from category                  where (category.parent = ' . $ParentID . ') and                        (category.del = 0)                  order by category.order_fld, category.id';        $result = $mysqli->query($query);        if ($ParentID == 1) $htmlTree .= ('<div class="tit">Каталог</div><ul class="level1">'); else $htmlTree .= ('<ul class="level2 child' . $ParentID . '">');        while ($row = $result->fetch_assoc()) {            $active = '';            if ($row['id'] == $cat) $active = ' active';            $ID1 = $row['id'];            $htmlTree .= '<li class="parent' . $row['id'] . $active . '">';            $htmlTree .= '<a href="index.php?page=cat&amp;cat=' . $row['id'] . '"> ' . ucfirst($row['name']) . '</a>';            $this->showTree($ID1, $lvl);            $lvl--;        }        $htmlTree .= '</ul>';        return $htmlTree;    }    function getHtml()    {        global $page;//        if ((isset($_SESSION['user'])) && ($page == 'cabinet')) {//            return '<div class="left_box">//                        <div class="tit">Опции</div>//                        <ul class="level1">//                            <li>//                                <a href="/index.php?page=cabinet&part=my_orders">Мои заказы</a>//                            </li>//                            <li>//                                <form method="post" action="/index.php?page=cabinet" id="logout">//                                    <input type="hidden" name="doIt" value="logout">//                                    <a onClick=document.getElementById("logout").submit()>Выйти</a>//                                </form>//                            </li>//                        </ul>//                    </div>';        //        } else {        return '<div class="left_box">' . $this->showTree(1, 0) . '</div>';//        }    }}?>